{% assign desktop_image = section.settings.image %}
{% assign mobile_image = section.settings.mobile_image | default: section.settings.image %}

<section class="hero" aria-label="{{ section.settings.heading | escape }}">
  <div class="hero__media">
    {% if mobile_image %}
      <picture>
        {% if desktop_image %}
          <source media="(min-width: 900px)" srcset="{{ desktop_image | img_url: '1600x' }}">
        {% endif %}
        <img src="{{ mobile_image | img_url: '900x' }}" alt="{{ mobile_image.alt | default: section.settings.heading | escape }}" loading="lazy">
      </picture>
    {% else %}
      <div class="hero__placeholder"></div>
    {% endif %}
    <div class="hero__overlay"></div>
    <div class="hero__content hero__content--{{ section.settings.text_alignment }}">
      {% if section.settings.eyebrow != blank %}
        <span class="hero__eyebrow">{{ section.settings.eyebrow | escape }}</span>
      {% endif %}
      {% if section.settings.heading != blank %}
        <h1 class="hero__heading">{{ section.settings.heading | escape }}</h1>
      {% endif %}
      {% if section.settings.subheading != blank %}
        <p class="hero__subheading">{{ section.settings.subheading | escape }}</p>
      {% endif %}
      <div class="hero__actions">
        {% if section.settings.primary_label != blank %}
          <a href="{{ section.settings.primary_link }}" class="btn btn-primary">{{ section.settings.primary_label | escape }}</a>
        {% endif %}
        {% if section.settings.secondary_label != blank %}
          <a href="{{ section.settings.secondary_link }}" class="btn btn-outline">{{ section.settings.secondary_label | escape }}</a>
        {% endif %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Home hero",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Desktop background image"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile background image"
    },
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow text",
      "default": "DROP 07 / LIMITED"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Engineered denim for urban movement"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Advanced fabric blends, sculpted silhouettes and ergonomic seams built for the streets."
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ],
      "default": "left"
    },
    {
      "type": "text",
      "id": "primary_label",
      "label": "Primary button label",
      "default": "Shop new arrivals"
    },
    {
      "type": "url",
      "id": "primary_link",
      "label": "Primary button link"
    },
    {
      "type": "text",
      "id": "secondary_label",
      "label": "Secondary button label",
      "default": "View lookbook"
    },
    {
      "type": "url",
      "id": "secondary_link",
      "label": "Secondary button link"
    }
  ],
  "presets": [
    {
      "name": "Hero"
    }
  ]
}
{% endschema %}
